/* ==========================================================================
   LaTeX-Style Academic Theme
   Inspired by Computer Modern and traditional LaTeX documents
   ========================================================================== */

/* Import Computer Modern font (the classic LaTeX font) */
@import url('https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css');

/* CSS Reset */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ==========================================================================
   CSS Variables - LaTeX Color Palette
   ========================================================================== */
:root {
    /* Colors inspired by printed academic papers */
    --page-bg: #faf6ed;           /* Soft off-white with subtle warmth */
    --text-color: #00356b;         /* Dark blue for main text */
    --text-secondary: #444444;     /* Gray for metadata */
    --link-color: #00356b;         /* Classic academic blue */
    --link-hover: #286dc0;         /* Lighter blue on hover */
    --border-color: #111111;       /* Black borders like LaTeX rules */
    --border-light: #cccccc;       /* Light gray for subtle dividers */
    --code-bg: #f0ebe0;           /* Subtle contrast for code blocks */
    --highlight-bg: #fffde7;       /* Subtle yellow highlight */

    /* Typography */
    --font-serif: 'Computer Modern Serif', 'Latin Modern Roman', 'Libertinus Serif', 'STIX Two Text', 'Times New Roman', Georgia, serif;
    --font-sans: 'Computer Modern Sans', 'Latin Modern Sans', 'Libertinus Sans', 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'Computer Modern Typewriter', 'Latin Modern Mono', 'Courier New', Courier, monospace;

    /* Spacing */
    --content-width: 55em;         /* Wider for comfortable screen reading */
    --line-height: 1.5;            /* Comfortable reading */
    --paragraph-spacing: 1em;
}

/* ==========================================================================
   Base Styles
   ========================================================================== */
html {
    font-size: 18px;               /* Base size for comfortable screen reading */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--font-serif);
    font-size: 1rem;
    line-height: var(--line-height);
    color: var(--text-color);
    background-color: var(--page-bg);
    text-rendering: optimizeLegibility;
    font-feature-settings: "kern" 1, "liga" 1;
    padding: 0;
    margin: 0;
}

/* Main content wrapper - mimics LaTeX margins */
.wrapper {
    max-width: var(--content-width);
    margin: 0 auto;
    padding: 0 2rem;
}

/* ==========================================================================
   Typography - LaTeX Style
   ========================================================================== */

/* Headings - LaTeX uses bold serif for section headings */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    font-weight: bold;
    line-height: 1.2;
    margin-top: 1.5em;
    margin-bottom: 0.5em;
    color: var(--text-color);
}

h1 {
    font-size: 2em;
    text-align: left;
    margin-top: 1em;
    margin-bottom: 0.3em;
}

h2 {
    font-size: 1.4em;
}

h3 {
    font-size: 1.2em;
}

h4 {
    font-size: 1.1em;
}

/* Paragraphs */
p {
    margin-bottom: var(--paragraph-spacing);
    text-align: justify;
    hyphens: auto;
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
}

/* Lists */
ul, ol {
    margin-left: 2em;
    margin-bottom: var(--paragraph-spacing);
}

li {
    margin-bottom: 0.3em;
    text-align: justify;
}

li > ul, li > ol {
    margin-top: 0.3em;
    margin-bottom: 0.3em;
}

/* Links - subtle academic style */
a {
    color: var(--link-color);
    text-decoration: none;
}

a:hover {
    color: var(--link-hover);
    text-decoration: underline;
}

/* Strong and emphasis */
strong, b {
    font-weight: bold;
}

em, i {
    font-style: italic;
}

/* ==========================================================================
   Header - Clean, minimal like a paper title
   ========================================================================== */
.site-header {
    padding: 2rem 0 1.5rem;
    border-bottom: 2px solid var(--border-color);
    margin-bottom: 2rem;
}

.site-header .wrapper {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    flex-wrap: wrap;
    gap: 1rem;
}

.site-title {
    font-family: var(--font-serif);
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--text-color);
    text-decoration: none;
    letter-spacing: -0.02em;
}

.site-title:hover {
    color: var(--text-color);
    text-decoration: none;
}

.site-nav {
    font-family: var(--font-sans);
    font-size: 0.9rem;
}

.site-nav a {
    color: var(--text-color);
    text-decoration: none;
    margin-left: 1.5rem;
    padding-bottom: 2px;
}

.site-nav a:hover {
    color: var(--link-color);
    border-bottom: 1px solid var(--link-color);
    text-decoration: none;
}

/* ==========================================================================
   Main Content Area
   ========================================================================== */
.page-content {
    min-height: calc(100vh - 250px);
    padding-bottom: 2rem;
}

/* ==========================================================================
   Post List (Index/Archive) - Like a table of contents
   ========================================================================== */
.post-list {
    list-style: none;
    margin: 0;
    padding: 0;
}

.post-list-item {
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-light);
}

.post-list-item:last-child {
    border-bottom: none;
}

.post-list-title {
    font-size: 1.15rem;
    font-weight: bold;
    margin-bottom: 0.3rem;
    margin-top: 0;
}

.post-list-title a {
    color: var(--text-color);
    text-decoration: none;
}

.post-list-title a:hover {
    color: var(--link-color);
}

.post-meta {
    font-family: var(--font-sans);
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
}

.post-excerpt {
    font-size: 0.95rem;
    color: var(--text-secondary);
    margin-top: 0.5rem;
    text-align: justify;
}

.read-more {
    font-family: var(--font-sans);
    font-size: 0.85rem;
    color: var(--link-color);
    white-space: nowrap;
}

/* ==========================================================================
   Single Post/Article - Like a LaTeX paper
   ========================================================================== */
.post {
    background: transparent;
    padding: 0;
    border-radius: 0;
    box-shadow: none;
}

.post-header {
    text-align: left;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
}

.post-title {
    font-size: 1.8rem;
    font-weight: bold;
    color: var(--text-color);
    margin-bottom: 0.8rem;
    line-height: 1.3;
}

.post-header .post-meta {
    font-size: 0.9rem;
    text-align: left;
}

/* Post content - the main body */
.post-content {
    font-size: 1rem;
    line-height: var(--line-height);
}

.post-content h2 {
    font-size: 1.4em;
    margin-top: 2em;
    margin-bottom: 0.8em;
}

.post-content h3 {
    font-size: 1.2em;
    margin-top: 1.5em;
    margin-bottom: 0.6em;
}

.post-content h4 {
    font-size: 1.1em;
    margin-top: 1.2em;
    margin-bottom: 0.5em;
}

.post-content p {
    margin-bottom: 1em;
}

.post-content ul,
.post-content ol {
    margin-left: 2em;
    margin-bottom: 1em;
}

.post-content li {
    margin-bottom: 0.4em;
}

/* Code - monospace like LaTeX verbatim */
.post-content code {
    font-family: var(--font-mono);
    font-size: 0.9em;
    background-color: var(--code-bg);
    padding: 0.15em 0.4em;
    border-radius: 2px;
    border: 1px solid var(--border-light);
}

.post-content pre {
    font-family: var(--font-mono);
    font-size: 0.85em;
    background-color: var(--code-bg);
    padding: 1em 1.2em;
    margin: 1.5em 0;
    overflow-x: auto;
    border: 1px solid var(--border-light);
    line-height: 1.4;
}

.post-content pre code {
    padding: 0;
    background: none;
    border: none;
    font-size: inherit;
}

/* Blockquotes - indented like LaTeX quote environment */
.post-content blockquote {
    margin: 1.5em 0;
    margin-left: 2em;
    margin-right: 2em;
    padding-left: 1em;
    border-left: 3px solid var(--border-light);
    font-style: italic;
    color: var(--text-secondary);
}

.post-content blockquote p:last-child {
    margin-bottom: 0;
}

/* Images */
.post-content img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1.5em auto;
}

/* Horizontal rules - like LaTeX \hrule */
.post-content hr {
    border: none;
    border-top: 1px solid var(--border-color);
    margin: 2em 0;
}

/* ==========================================================================
   Tags and Categories
   ========================================================================== */
.post-tags {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-light);
    font-family: var(--font-sans);
    font-size: 0.85rem;
}

.tag, .category {
    display: inline-block;
    font-family: var(--font-sans);
    font-size: 0.75rem;
    color: var(--text-secondary);
    background-color: transparent;
    border: 1px solid var(--border-light);
    padding: 0.2em 0.6em;
    margin-right: 0.4em;
    margin-top: 0.3em;
    border-radius: 2px;
}

.tag:hover, .category:hover {
    border-color: var(--link-color);
    color: var(--link-color);
}

/* ==========================================================================
   Post Navigation
   ========================================================================== */
.post-navigation {
    margin-top: 2.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-light);
    display: flex;
    justify-content: space-between;
    font-family: var(--font-sans);
    font-size: 0.9rem;
}

.post-navigation a {
    color: var(--link-color);
    text-decoration: none;
    max-width: 45%;
}

.post-navigation a:hover {
    text-decoration: underline;
}

.post-navigation .prev::before {
    content: "← ";
}

.post-navigation .next::after {
    content: " →";
}

/* ==========================================================================
   Footer
   ========================================================================== */
.site-footer {
    border-top: 2px solid var(--border-color);
    padding: 1.5rem 0;
    margin-top: 3rem;
    text-align: center;
    font-family: var(--font-sans);
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.site-footer p {
    text-align: center;
    margin-bottom: 0.3rem;
}

.site-footer a {
    color: var(--link-color);
}

/* ==========================================================================
   Category Pages
   ========================================================================== */
.category-page {
    max-width: var(--content-width);
    margin: 0 auto;
}

.category-page h1 {
    text-align: left;
    margin-bottom: 0.5em;
}

.category-page .description {
    font-style: italic;
    color: var(--text-secondary);
    font-size: 1rem;
    margin-bottom: 2rem;
    text-align: justify;
}

/* ==========================================================================
   Tables - Academic style with horizontal rules
   ========================================================================== */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5em 0;
    font-size: 0.95em;
}

table th,
table td {
    padding: 0.6em 1em;
    text-align: left;
    border-top: 1px solid var(--border-color);
    border-bottom: 1px solid var(--border-color);
}

table th {
    font-weight: bold;
    border-top: 2px solid var(--border-color);
    border-bottom: 2px solid var(--border-color);
}

table tbody tr:last-child td {
    border-bottom: 2px solid var(--border-color);
}

/* Table caption */
table caption {
    font-style: italic;
    margin-bottom: 0.5em;
    text-align: left;
}

/* ==========================================================================
   MathJax Styling - Blend seamlessly with text
   ========================================================================== */
mjx-container {
    overflow-x: auto;
    overflow-y: hidden;
}

mjx-container[display="true"] {
    display: block;
    margin: 1.2em 0;
    text-align: center;
}

/* Ensure math is the same color as text */
.MathJax, .MathJax_Display, .MathJax_Preview {
    color: var(--text-color) !important;
}

/* Inline math spacing */
.post-content mjx-container[jax="SVG"][display="false"] {
    display: inline-block;
    vertical-align: middle;
    margin: 0 0.1em;
}

/* Display math */
.post-content mjx-container[jax="SVG"][display="true"] {
    display: block;
    margin: 1.5em auto;
    overflow-x: auto;
    overflow-y: hidden;
    max-width: 100%;
    padding: 0.5em 0;
}

/* Scrollbar for long equations */
mjx-container::-webkit-scrollbar {
    height: 6px;
}

mjx-container::-webkit-scrollbar-track {
    background: var(--code-bg);
}

mjx-container::-webkit-scrollbar-thumb {
    background: var(--border-light);
    border-radius: 3px;
}

/* Equation numbering - AMS style */
.MathJax .mjx-mrow {
    padding-right: 0;
}

/* ==========================================================================
   Definition, Theorem, Proof blocks - LaTeX style
   ========================================================================== */
.definition, .theorem, .lemma, .proposition, .corollary, .proof, .remark, .example {
    margin: 1.5em 0;
    padding: 0;
}

.definition > strong:first-child,
.theorem > strong:first-child,
.lemma > strong:first-child,
.proposition > strong:first-child,
.corollary > strong:first-child,
.proof > strong:first-child,
.remark > strong:first-child,
.example > strong:first-child {
    font-weight: bold;
    font-style: normal;
}

.theorem, .lemma, .proposition, .corollary {
    font-style: italic;
}

.proof {
    font-style: normal;
}

/* QED symbol */
.proof::after {
    content: "□";
    float: right;
    font-style: normal;
}

/* ==========================================================================
   Abstract
   ========================================================================== */
.abstract {
    margin: 2em 3em;
    font-size: 0.95em;
}

.abstract-title {
    text-align: center;
    font-weight: bold;
    margin-bottom: 0.5em;
}

/* ==========================================================================
   Responsive Design
   ========================================================================== */
@media (max-width: 768px) {
    html {
        font-size: 16px;
    }

    .wrapper {
        padding: 0 1.2rem;
    }

    .site-header .wrapper {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.8rem;
    }

    .site-nav {
        width: 100%;
    }

    .site-nav a {
        margin-left: 0;
        margin-right: 1.2rem;
    }

    .post-title {
        font-size: 1.5rem;
    }

    .post-content blockquote {
        margin-left: 1em;
        margin-right: 1em;
    }

    .post-navigation {
        flex-direction: column;
        gap: 1rem;
    }

    .post-navigation a {
        max-width: 100%;
    }

    .category-page h1 {
        font-size: 1.6rem;
    }
}

@media (max-width: 480px) {
    html {
        font-size: 15px;
    }

    .wrapper {
        padding: 0 1rem;
    }

    h1 {
        font-size: 1.6em;
    }

    h2 {
        font-size: 1.3em;
    }

    .post-content pre {
        padding: 0.8em;
        font-size: 0.8em;
    }
}

/* ==========================================================================
   Print Styles - For actual LaTeX-like output
   ========================================================================== */
@media print {
    body {
        font-size: 11pt;
        background: white;
        color: black;
    }

    .site-header,
    .site-footer,
    .post-navigation {
        display: none;
    }

    .wrapper {
        max-width: 100%;
        padding: 0;
    }

    a {
        color: black;
        text-decoration: none;
    }

    .post-content a::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
    }

    h1, h2, h3, h4 {
        page-break-after: avoid;
    }

    pre, blockquote, table {
        page-break-inside: avoid;
    }
}

/* ==========================================================================
   Syntax Highlighting - Subtle, academic
   ========================================================================== */
.highlight .c,
.highlight .c1,
.highlight .cm {
    color: #666666;
    font-style: italic;
}

.highlight .k,
.highlight .kd,
.highlight .kn,
.highlight .kp,
.highlight .kr,
.highlight .kt {
    color: #000000;
    font-weight: bold;
}

.highlight .s,
.highlight .s1,
.highlight .s2,
.highlight .sb,
.highlight .sc,
.highlight .sd,
.highlight .se,
.highlight .sh,
.highlight .si,
.highlight .sx,
.highlight .sr,
.highlight .ss {
    color: #444444;
}

.highlight .n,
.highlight .na,
.highlight .nb,
.highlight .nc,
.highlight .nd,
.highlight .ne,
.highlight .nf,
.highlight .ni,
.highlight .nl,
.highlight .nn,
.highlight .no,
.highlight .nt,
.highlight .nv,
.highlight .ow,
.highlight .w,
.highlight .mf,
.highlight .mh,
.highlight .mi,
.highlight .mo,
.highlight .m {
    color: #111111;
}
